<div class="menu-user-dropdown-wrapper">
  <c-header-nav>
    <ng-container *ngTemplateOutlet="userDropdown"></ng-container>
  </c-header-nav>
</div>

<ng-template #userDropdown>
  <c-dropdown alignment="end" variant="nav-item">
    <button cButton color="" [caret]="false" cDropdownToggle class="py-0">
      <c-avatar
        *ngIf="(isUserLogged$ | async) === false"
        cTextColor="primary"
        shape="rounded-1"
        size="md"
        [src]="'./assets/img/user-profile/user-no-photo.png'"
        [status]="'danger'"
      >
      </c-avatar>
      <c-avatar
        *ngIf="(isUserLogged$ | async) === true"
        cTextColor="primary"
        shape="rounded-1"
        size="md"
        [src]="(userData$ | async)?.photoUrl ? (''+(userData$ | async)?.photoUrl) : './assets/img/user-profile/user-no-photo.png'"
        [status]="'success'"
      >
      </c-avatar>
    </button>
    <ul cDropdownMenu class="pt-0 pr-5 w-auto">
      <ng-container *ngIf="(isUserLogged$ | async) === true">
        <li>
          <h6 cDropdownHeader class="bg-light fw-semibold py-2">Account</h6>
        </li>
        <li>
          <a routerLink="./" cDropdownItem>
            <svg cIcon class="me-2" name="cilBell"></svg>
            Updates
            <c-badge class="ms-2 float-end" color="info"> 42 </c-badge>
          </a>
        </li>
        <li>
          <a routerLink="./" cDropdownItem>
            <svg cIcon class="me-2" name="cilEnvelopeOpen"></svg>
            Messages
            <c-badge class="ms-2 float-end" color="success"> 42 </c-badge>
          </a>
        </li>
        <li>
          <a routerLink="./" cDropdownItem>
            <svg cIcon class="me-2" name="cilTask"></svg>
            Tasks
            <c-badge class="ms-2 float-end" color="danger"> 42 </c-badge>
          </a>
        </li>
        <li>
          <a routerLink="./" cDropdownItem>
            <svg cIcon class="me-2" name="cilCommentSquare"></svg>
            Comments
            <c-badge class="ms-auto" color="warning"> 42 </c-badge>
          </a>
        </li>
      </ng-container>

      <ng-container *ngIf="(isUserLogged$ | async) === true">
        <li>
          <h6 cDropdownHeader class="bg-light fw-semibold py-2">Settings</h6>
        </li>
        <li></li>
        <li>
          <a routerLink="./" cDropdownItem>
            <svg cIcon class="me-2" name="cilUser"></svg>
            Profile
          </a>
        </li>
        <li>
          <a routerLink="./" cDropdownItem>
            <svg cIcon class="me-2" name="cilSettings"></svg>
            Settings
          </a>
        </li>
        <li>
          <a routerLink="./" cDropdownItem>
            <svg cIcon class="me-2" name="cilCreditCard"></svg>
            Payments
            <c-badge class="ms-2 float-end" color="secondary"> 42 </c-badge>
          </a>
        </li>
        <li>
          <a routerLink="./" cDropdownItem>
            <svg cIcon class="me-2" name="cilFile"></svg>
            Projects
            <c-badge class="ms-2 float-end" color="primary"> 42 </c-badge>
          </a>
        </li>
      </ng-container>

      <li>
        <hr cDropdownDivider />
      </li>
      <li></li>
      <li>
        <a
          href="javascript:void(0)"
          cDropdownItem
          [disabled]="(isUserLogged$ | async) === true"
          (click)="onClickLogin()"
        >
          <svg cIcon class="me-2" name="cilUser"></svg>
          Login
        </a>
      </li>
      <li>
        <a
          href="javascript:void(0)"
          cDropdownItem
          [disabled]="(isUserLogged$ | async) === false"
          (click)="onClickLogout()"
        >
          <svg cIcon class="me-2" name="cilAccountLogout"></svg>
          Logout
        </a>
      </li>
      <li *ngIf="(isUserLogged$ | async) === false">
        <a href="javascript:void(0)" cDropdownItem (click)="onClickRegister()">
          <svg cIcon class="me-2" name="cilAddressBook"></svg>
          Register
        </a>
      </li>
      <li>
        <hr cDropdownDivider />
      </li>
      <li>
        <a routerLink="./" cDropdownItem>
          <svg cIcon class="me-2" name="cilLockLocked"></svg>
          Lock Account
        </a>
      </li>
      <li></li>
    </ul>
  </c-dropdown>
</ng-template>
